% -*-latex-*-
% Document name: output.tex
% Creator: Rob MacLeod [macleod@vissgi.cvrti.utah.edu]
% Last update: September 2, 2000 by Rob MacLeod
%    - created
% Last update: Oct 19, 2004 by Bryan Worthen
%    - for version 6.2
% Last update: Thu May 19 12:35:15 2005 by Rob Macleod
%    - for version 6.3
% Last update: Sat Feb 17 23:16:41 2007 by Rob Macleod
%    - version 6.5
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Output from \map{}}

\subsection{Capturing images for animation, printing, or photos/slides}
\label{sec:output} 

While screen images are lovely to look at, we need to be able to get the
output from the screen to some transportable medium like paper, animation
movies, video tape, or film.  This section describes some of the methods
available for this process.

\subsubsection{Image capture}
\label{sec:capture}
 
There are no standard provisions in OpenGL for generating output from the
images generated by \map{}.  However, \map{} uses a collection of the GL
windows to create an image and save it to a file.  Once preserved,
this file can be viewed later, either by itself or as part of a sequence of
images in an animation. \\

To capture an image using \map{} simply set the image you want to preserve
and hit the ``w''-key. There will be a slight pause and the a line will
appear in the control window telling you where the image has been stored.
Filenames for image storage are generated automatically, using the filename
specified in the Saving dialog, which defaults to the value set with the
{\tt -if} option or it will default to map3d.png (See
Section~\ref{sec:saveimages}).  Appended to this base filename are sets of
four digits, denoting the frame number currently in the display, starting
with ``0001''.  Thus, for example, if the base image file were
daltorso.png, the first file produced would be {\tt daltorso0001.png}.
Note the {\tt .png} file extension, standard for this sort of file, can
also be changed to .ppm or
.jpg. \\

The screen area captured in this mode is the smallest rectangle that
contains all the windows currently managed by the current invocation of
\map{}.  This often requires with careful placement of the windows or
setting the background window for the display to black or something that
matches the background of the \map{} display.


\subsubsection{Animations}
\label{sec:animation}

Sometimes it is desirable to save a sequence of images in a movie for use
in a demonstration.  \map{} does not (currently) have the ability to save
movies directly, but it does have the ability to automatically save a
sequence of images based on a set of input events, which can be pieced into
a movie from external software.  The images
are saved into a sequence of files based on the rules in the image capture
section, and each time the appended digits increment.  See
Section~\ref{sec:saveanimations} for more information on how to control the
animations.

\paragraph{Making movies}

There are a few commercial programs we have found useful in 
generating movies directly:
\begin{enumerate}
  \item \htmladdnormallink{Snapz Pro}
    {http://www.ambrosiasw.com/utilities/snapzprox/}, which is a marvelous
    program from Ambrosia Software for grabbing frames in real time from
    the screen.
  \item \htmladdnormallink{Final Cut Pro}
    {http://www.apple.com/finalcutstudio/finalcutpro/}, a program from
    Apple that is as good as most professional tools (so they say).
  \item \htmladdnormallink{iMovie HD} {http://www.apple.com/ilife/imovie/},
    which comes free on a Mac.  It is worth checking the iLife version,
    which is usually a little ahead the version shipped with Macs, if you
    are serious about editing video.
\end{enumerate}

Otherwise, while we are working on integrating movie support directly into
\map{}, there are a few packages to create movies from your frames.
%
\begin{enumerate}
  \item \htmladdnormallink{QuickTimePro}
    {http://www.apple.com/quicktime/download/} (for Mac OSX), if you
    want this one in a version that allows editing, you'll have to pay.
  \item \htmladdnormallink{Snapz Pro}
    {http://www.ambrosiasw.com/utilities/snapzprox/} (for Mac OSX), 
    also some cost involved but very modest for what this program will do. 
  \item \htmladdnormallink{Discreet Cleaner XL}
    {http://www4.discreet.com/cleanerxl/} 
    (for Win32). 
  \item \htmladdnormallink{mencoder}
    {http://www.mplayerhq.hu/homepage/design7/dload.html} (for Linux or
    Windows).   
  \item \htmladdnormallink{ffmpeg} {http://ffmpeg.sourceforge.net} is a 
    cross-platform utility you can use to generate movies.
    However, you would have to download it and compile it yourself.
    Once you have downloaded and compiled it, you can, for example: 
    ffmpeg -i map3d\%04d.jpg map3d.mpg, which will turn map3d0001.jpg, etc.
    into map3d.mpg.
\end{enumerate}

We are still learning which combinations of settings work best to capture,
edit, and save animations.  It depends a lot on the context in which you
plan to view/show the results.  As we learn more, we will share it with you.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "manual"
%%% End: 
